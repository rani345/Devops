---

- name: playbook to copy war
  hosts:  web
  tasks:

    - name: copy a war file
      copy:
        src: /root/sparkjava-war-example/target/sparkjava-hello-world-1.0.war
        dest: /home/ec2-user/tomcat/tomcat/webapps
        backup: yes

    - name: backup bin files
      copy:
        src: /etc/ansible
        dest: /home/ec2-user/tomcat/tomcat/bin
        backup: yes

    - name: backup config  files
      copy:
        src: /etc/ansible
        dest: /home/ec2-user/tomcat/tomcat/conf
         backup: yes

    - name: stop tomcat
      shell: nohuo /home/ec2-user/tomcat/tomcat/bin/shutdown.sh

   - name: copy a war file
     copy:
        src: /root/sparkjava-war-example/target/sparkjava-hello-world-1.0.war

